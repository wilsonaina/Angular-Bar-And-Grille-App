{"ast":null,"code":"var _class;\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor() {\n    this.cart = [];\n    this.localStorageCart = [];\n  }\n  addToCart(product) {\n    return new Observable(subscriber => {\n      if (product) {\n        // Check if customer has items in cart session\n        if (localStorage.getItem('customer_cart')) {\n          this.cart = JSON.parse(localStorage.getItem('customer_cart') || '{}');\n          this.cart.push(product);\n          // Set the cart object with the newly added product\n          localStorage.setItem('customer_cart', JSON.stringify(this.cart));\n          subscriber.next();\n          subscriber.complete();\n        } else {\n          this.cart.push(product);\n          localStorage.setItem('customer_cart', JSON.stringify(this.cart));\n          subscriber.next();\n          subscriber.complete();\n        }\n      }\n    });\n  }\n}\n_class = CartService;\n_class.ɵfac = function CartService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AACA,SAASA,UAAU,QAAQ,MAAM;;AAMjC,OAAM,MAAOC,WAAW;EAItBC;IAHA,SAAI,GAAU,EAAE;IAChB,qBAAgB,GAAU,EAAE;EAEZ;EAEhBC,SAAS,CAACC,OAAgB;IACxB,OAAO,IAAIJ,UAAU,CAAEK,UAAU,IAAI;MACnC,IAAGD,OAAO,EAAE;QACV;QACA,IAAGE,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAE;UACxC,IAAI,CAACC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;UACrE,IAAI,CAACC,IAAI,CAACG,IAAI,CAACP,OAAO,CAAC;UACvB;UACAE,YAAY,CAACM,OAAO,CAAC,eAAe,EAAEH,IAAI,CAACI,SAAS,CAAC,IAAI,CAACL,IAAI,CAAC,CAAC;UAChEH,UAAU,CAACS,IAAI,EAAE;UACjBT,UAAU,CAACU,QAAQ,EAAE;SACtB,MAAM;UACL,IAAI,CAACP,IAAI,CAACG,IAAI,CAACP,OAAO,CAAC;UACvBE,YAAY,CAACM,OAAO,CAAC,eAAe,EAAEH,IAAI,CAACI,SAAS,CAAC,IAAI,CAACL,IAAI,CAAC,CAAC;UAChEH,UAAU,CAACS,IAAI,EAAE;UACjBT,UAAU,CAACU,QAAQ,EAAE;;;IAG3B,CAAC,CAAC;EACJ;;SAzBWd,WAAW;;mBAAXA,MAAW;AAAA;;SAAXA,MAAW;EAAAe,SAAXf,MAAW;EAAAgB,YAFV;AAAM","names":["Observable","CartService","constructor","addToCart","product","subscriber","localStorage","getItem","cart","JSON","parse","push","setItem","stringify","next","complete","factory","providedIn"],"sourceRoot":"","sources":["/Users/MrWilson/Desktop/Angular_Apps/sundays_bar_and_grille_app/src/app/shared/services/cart/cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Product } from '../../models/product.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  cart: any[] = [];\n  localStorageCart: any[] = [];\n\n  constructor() { }\n\n  addToCart(product: Product): Observable<any> {\n    return new Observable((subscriber) => {\n      if(product) {\n        // Check if customer has items in cart session\n        if(localStorage.getItem('customer_cart')) {\n          this.cart = JSON.parse(localStorage.getItem('customer_cart') || '{}');\n          this.cart.push(product);\n          // Set the cart object with the newly added product\n          localStorage.setItem('customer_cart', JSON.stringify(this.cart));\n          subscriber.next();\n          subscriber.complete();\n        } else {\n          this.cart.push(product);\n          localStorage.setItem('customer_cart', JSON.stringify(this.cart));\n          subscriber.next();\n          subscriber.complete();\n        }\n      }\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}